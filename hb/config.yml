# hb/config.yml - 节点处理系统配置

# 基础配置
project:
  name: "节点处理系统"
  version: "1.0.0"
  description: "自动合并与拆分节点文件"
  
# 目录配置
directories:
  source: "../nodes"      # 源文件目录（相对于hb目录）
  output: "./output"      # 输出文件目录（hb/output）
  backup: "./backup"      # 备份目录（hb/backup）
  logs: "./logs"         # 日志目录（hb/logs）
  
# 文件处理配置
files:
  # 输入文件扩展名
  input_extensions:
    - ".txt"
    - ".yaml"
    - ".yml"
    
  # 输出文件
  output_files:
    merged_txt: "hb.txt"
    merged_yaml: "hb.yaml"
    protocols: 
      - "vless.txt"
      - "vmess.txt"
      - "trojan.txt"
      - "ss.txt"
      - "ssr.txt"
      - "other.txt"
    
  # 文件名模式
  patterns:
    nodes: "*.txt"
    configs: "*.yaml"
    
# 处理规则
processing:
  # 合并选项
  merge:
    enable: true
    add_header: true       # 添加源文件信息头
    remove_duplicates: true
    sort_lines: true
    
  # 拆分选项
  split:
    enable: true
    protocols:
      - "vless://"
      - "vmess://"
      - "trojan://"
      - "ss://"
      - "ssr://"
      
  # 验证选项
  validate:
    enable: true
    check_urls: true
    timeout: 10           # 验证超时时间（秒）
    
# 定时任务配置
schedule:
  check_interval: 86400   # 24小时（秒）
  check_time: "00:00"     # 检查时间（北京时间）
  retry_attempts: 3       # 重试次数
  retry_delay: 300        # 重试延迟（秒）
  
# 通知配置
notifications:
  enable: false
  email:
    smtp_server: ""
    recipients: []
    
  webhook:
    enable: false
    url: ""
    
# 日志配置
logging:
  level: "INFO"           # DEBUG, INFO, WARNING, ERROR
  file: "hb_processing.log"
  max_size: "10MB"       # 最大日志文件大小
  backup_count: 5        # 保留的日志文件数量
  
# 备份配置
backup:
  enable: true
  keep_days: 7           # 保留最近7天的备份
  compress: true         # 压缩备份文件
